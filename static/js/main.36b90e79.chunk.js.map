{"version":3,"sources":["api/api.js","components/gallery/GalleryImage.js","icons/heart.svg","icons/download.svg","components/gallery/Gallery.js","components/modal/modal.js","icons/home.svg","icons/star.svg","components/nav/nav.js","components/header/header.js","images/travolta.gif","icons/clear.svg","components/gallery/GalleryFavorites.js","components/loader/Loader.js","App.jsx","index.js"],"names":["callback","pageNumber","imagesLimit","a","BASE_URL","fetch","response","ok","Error","status","statusText","json","images","defaultImgSource","id","bigImgSource","GalleryImage","props","setCurrentImg","altImg","className","alt","src","onClick","currImg","find","currImage","Gallery","setSelectedImg","map","image","href","download_url","download","type","localImages","JSON","parse","localStorage","getItem","filteredImage","setItem","stringify","every","handleClick","heart","author","Modal","currentImg","event","target","classList","contains","Nav","to","home","star","Header","name","handleChange","GalleryFavorites","selectedImg","useEffect","clear","travolta","defaultProps","Loader","App","useState","setImages","page","setPage","imageRequest","changeType","prevState","handleSearch","searchParam","filter","includes","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.36b90e79.chunk.js","sourcesContent":["export async function imageRequest(callback, pageNumber, imagesLimit) {\n// eslint-disable-next-line\n  const BASE_URL = `https://picsum.photos/v2/list?page=${pageNumber}&limit=${imagesLimit}`;\n  const response = await fetch(`${BASE_URL}`);\n\n  if (!response.ok) {\n    throw new Error(`${response.status} - ${response.statusText}`);\n  }\n\n  const images = await response.json();\n\n  callback(images);\n}\n\nexport const defaultImgSource = id => `https://picsum.photos/id/${id}/270/230`;\n\nexport const bigImgSource = id => `https://picsum.photos/id/${id}/900/850`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { defaultImgSource } from '../../api/api';\n\nexport const GalleryImage = (props) => {\n  const { id, setCurrentImg, images } = props;\n  const altImg = `Image ID ${id}`;\n\n  return (\n    /* eslint-disable */\n    <img\n      className=\"gallery__image\"\n      alt={altImg}\n      src={defaultImgSource(id)}\n      onClick={() => {\n        const currImg = images.find(currImage => currImage.id === id);\n\n        setCurrentImg(currImg);\n      }}\n    />\n    /* eslint-enable */\n  );\n};\n\nGalleryImage.propTypes = {\n  id: PropTypes.string.isRequired,\n  setCurrentImg: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired,\n    download_url: PropTypes.string.isRequired,\n  })).isRequired,\n};\n","export default __webpack_public_path__ + \"static/media/heart.214701d4.svg\";","export default __webpack_public_path__ + \"static/media/download.95c3298f.svg\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { GalleryImage } from './GalleryImage';\nimport './Gallery.scss';\nimport heart from '../../icons/heart.svg';\nimport download from '../../icons/download.svg';\n\nexport const Gallery = ({ images, setCurrentImg, setSelectedImg }) => {\n  const handleClick = (id) => {\n    const localImages = JSON.parse(localStorage.getItem('images'));\n    const filteredImage = images.find(image => image.id === id);\n\n    if (!localImages) {\n      localStorage.setItem('images', JSON.stringify([filteredImage]));\n      setSelectedImg(localImages);\n    }\n\n    if (localImages && localImages.every(image => image.id !== id)) {\n      localStorage.setItem(\n        'images', JSON.stringify([...localImages, filteredImage]),\n      );\n      setSelectedImg(localImages);\n    }\n  };\n\n  return (\n    <div className=\"gallery\">\n      {images.map(image => (\n        <div className=\"gallery__item\" key={image.id}>\n          <GalleryImage\n            {...image}\n            setCurrentImg={setCurrentImg}\n            images={images}\n          />\n          <div className=\"gallery__interactive\">\n            <div className=\"gallery__button\">\n              <a\n                href={image.download_url}\n                download=\"image\"\n              >\n                <img\n                  src={download}\n                  alt=\"download icon\"\n                  className=\"gallery__icon\"\n                />\n              </a>\n            </div>\n            <button\n              type=\"button\"\n              onClick={() => handleClick(image.id)}\n              className=\"gallery__button\"\n            >\n              <img\n                src={heart}\n                alt=\"heart icon\"\n                className=\"gallery__icon\"\n              />\n            </button>\n          </div>\n          <p>\n            by&nbsp;\n            {image.author}\n          </p>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired,\n    download_url: PropTypes.string.isRequired,\n  })).isRequired,\n  setCurrentImg: PropTypes.func.isRequired,\n  setSelectedImg: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './modal.scss';\nimport { bigImgSource } from '../../api/api';\n\nexport const Modal = ({ setCurrentImg, currentImg }) => {\n  const { id } = currentImg;\n  const handleClick = (event) => {\n    if (event.target.classList.contains('backdrop')) {\n      setCurrentImg(null);\n    }\n  };\n\n  return (\n    /* eslint-disable */\n    <div\n      className=\"backdrop\"\n      onClick={handleClick}\n    >\n      <img\n\t    src={bigImgSource(id)}\n\t    alt=\"enlarged pic\"\n\t  />\n    </div>\n    /* eslint-enable */\n  );\n};\n\nModal.propTypes = {\n  setCurrentImg: PropTypes.func.isRequired,\n  currentImg: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n  }).isRequired,\n};\n","export default __webpack_public_path__ + \"static/media/home.72a7f750.svg\";","export default __webpack_public_path__ + \"static/media/star.ea72b971.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport home from '../../icons/home.svg';\nimport star from '../../icons/star.svg';\nimport './nav.scss';\n\nexport const Nav = () => (\n  <nav className=\"nav\">\n    <ul className=\"nav__list\">\n      <li className=\"nav__item\">\n        <Link to=\"/home\" className=\"nav__link\">\n          <img\n            src={home}\n            alt=\"img\"\n            className=\"nav__icon\"\n          />\n          <div>Home</div>\n        </Link>\n      </li>\n      <li className=\"nav__item\">\n        <Link to=\"/favorites\" className=\"nav__link\">\n          <img\n            src={star}\n            alt=\"img\"\n            className=\"nav__icon\"\n          />\n          <div>Favorites</div>\n        </Link>\n      </li>\n    </ul>\n  </nav>\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './header.scss';\nimport { Nav } from '../nav/nav';\n\nexport const Header = props => (\n  <header className=\"header\">\n    <div className=\"header__top\">\n      <h1 className=\"header__logo\">\n        my\n        <span className=\"header__highlight\">\n          Gallery\n        </span>\n      </h1>\n    </div>\n    <Nav />\n    <div className=\"header__pageNav\">\n      <button\n        name=\"decrease\"\n        type=\"button\"\n        className=\"header__button\"\n        onClick={\n          event => props.handleChange(event.target.name)\n        }\n      >\n        Prev Page\n      </button>\n      <button\n        name=\"increase\"\n        type=\"button\"\n        className=\"header__button\"\n        onClick={\n          event => props.handleChange(event.target.name)\n        }\n      >\n        Next Page\n      </button>\n    </div>\n  </header>\n);\n\nHeader.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n};\n","export default __webpack_public_path__ + \"static/media/travolta.b0232c0e.gif\";","export default __webpack_public_path__ + \"static/media/clear.94d2b683.svg\";","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Gallery } from './Gallery';\nimport travolta from '../../images/travolta.gif';\nimport clear from '../../icons/clear.svg';\n\nconst GalleryFavorites = ({ setSelectedImg, selectedImg, setCurrentImg }) => {\n  const localImages = JSON.parse(localStorage.getItem('images'));\n  const handleClear = () => {\n    localStorage.setItem('images', null);\n    setSelectedImg(null);\n  };\n\n  useEffect(() => {\n    if (!localImages) {\n      setSelectedImg(null);\n    }\n\n    setSelectedImg(localImages);\n  }, []);\n\n  return (\n    <div>\n      {!selectedImg\n        ? (\n          <div className=\"gallery__favorite\">\n            <h2>First like some photos</h2>\n            <img src={travolta} alt=\"travolta searching gif\" />\n          </div>\n        )\n        : (\n          /* eslint-disable */\n          <>\n            <div\n              className=\"gallery__favorite-clear\"\n              onClick={\n                () => handleClear()\n              }\n            >\n              Clear selected\n              <img\n                src={clear}\n                alt=\"clear favorites\"\n                className=\"gallery__icon-clear\"\n              />\n            </div>\n            <Gallery\n              setSelectedImg={setSelectedImg}\n              images={selectedImg}\n              setCurrentImg={setCurrentImg}\n            />\n          </>\n          /* eslint-enable */\n        )\n      }\n    </div>\n  );\n};\n\nGalleryFavorites.propTypes = {\n  setSelectedImg: PropTypes.func.isRequired,\n  selectedImg: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string,\n    url: PropTypes.string,\n    download_url: PropTypes.string,\n  })),\n  setCurrentImg: PropTypes.func.isRequired,\n};\nGalleryFavorites.defaultProps = {\n  selectedImg: null,\n};\n\nexport default GalleryFavorites;\n","import React from 'react';\nimport './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"loader\">\n    <div className=\"loader__body\" />\n    <div className=\"loader__text\">Please wait , images are loading</div>\n  </div>\n);\n","/* eslint-disable */\nimport React, { useState, useEffect } from 'react';\nimport { Route } from 'react-router-dom'\nimport './App.scss';\nimport {imageRequest} from \"./api/api\";\nimport { Gallery } from \"./components/gallery/Gallery\";\nimport { Modal } from \"./components/modal/modal\";\nimport { Header } from \"./components/header/header\";\nimport GalleryFavorites from \"./components/gallery/GalleryFavorites\";\nimport {Loader} from \"./components/loader\";\n\n\nexport const App = () => {\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(0);\n  const [currentImg, setCurrentImg] = useState(null);\n  const [selectedImg, setSelectedImg] = useState(null);\n\n  useEffect(() => {\n    imageRequest(setImages, page, 12)\n  },[page]);\n\n  const changePage = (changeType) => {\n    if(changeType === \"decrease\" && page - 1 >= 0) {\n      setPage(prevState => --prevState)\n    }\n    if(changeType === \"increase\") {\n      setPage(prevState => ++prevState)\n    }\n  }\n\n  const handleSearch = (searchParam) => {\n    setImages(images.filter(image => image.author.includes(searchParam)))\n  }\n\n  return (\n      <div className=\"App\">\n        <Header\n          handleChange={changePage}\n          handleSearch={handleSearch}\n          images={images}\n        />\n        <main className=\"main\">\n          <Route path=\"/home\">\n            {images\n              ? (\n                <>\n                  <Gallery\n                    images={images}\n                    selectedImg={selectedImg}\n                    setCurrentImg={setCurrentImg}\n                    setSelectedImg={setSelectedImg}\n                  />\n                  { currentImg && <Modal currentImg={currentImg} setCurrentImg={setCurrentImg}/>}\n                </>\n              )\n              : <Loader />\n            }\n          </Route>\n          <Route path=\"/favorites\">\n            <GalleryFavorites\n              images={selectedImg}\n              selectedImg={selectedImg}\n              setCurrentImg={setCurrentImg}\n              setSelectedImg={setSelectedImg}\n            />\n          </Route>\n        </main>\n      </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}